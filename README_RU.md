# RXON (Reverse Axon) Protocol

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/release/python-3110/)
[![Typing: Typed](https://img.shields.io/badge/Typing-Typed-brightgreen.svg)](https://peps.python.org/pep-0561/)

> **[EN](https://github.com/madgagarin/rxon/blob/main/README.md)**

**RXON** (Reverse Axon) ‚Äî —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ä–µ–≤–µ—Ä—Å–∏–≤–Ω—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã **[HLN (Hierarchical Logic Network)](https://github.com/avtomatika-ai/hln)**.
–û–Ω —Å–ª—É–∂–∏—Ç "–Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π" –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, —Å–æ–µ–¥–∏–Ω—è—è –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–µ —É–∑–ª—ã (–•–æ–ª–æ–Ω—ã) –≤ –µ–¥–∏–Ω—É—é –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫—É—é —Å–µ—Ç—å.

## üß¨ –ë–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –º–µ—Ç–∞—Ñ–æ—Ä–∞

–ù–∞–∑–≤–∞–Ω–∏–µ **RXON** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞ *Axon* (–æ—Ç—Ä–æ—Å—Ç–æ–∫ –Ω–µ–π—Ä–æ–Ω–∞). –í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö —Å–µ—Ç—è—Ö –∫–æ–º–∞–Ω–¥—ã –æ–±—ã—á–Ω–æ –∏–¥—É—Ç "—Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑" (Push-–º–æ–¥–µ–ª—å). –í RXON –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤—Å–µ–≥–¥–∞ –∏—Å—Ö–æ–¥–∏—Ç –æ—Ç –ø–æ–¥—á–∏–Ω–µ–Ω–Ω–æ–≥–æ —É–∑–ª–∞ (–í–æ—Ä–∫–µ—Ä–∞/Shell) –∫ —É–ø—Ä–∞–≤–ª—è—é—â–µ–º—É (–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—É/Ghost). –≠—Ç–æ "–æ–±—Ä–∞—Ç–Ω—ã–π –Ω–µ—Ä–≤", –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ä–∞—Å—Ç–∞–µ—Ç —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö, —Å–æ–∑–¥–∞–≤–∞—è –∫–∞–Ω–∞–ª, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –∑–∞—Ç–µ–º —Å–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏–∫–∞–∑—ã.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

-   **Pluggable Transports**: –ü–æ–ª–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –æ—Ç —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è. –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ HTTP, WebSocket, gRPC –∏–ª–∏ Tor.
-   **Zero Dependency Core**: –Ø–¥—Ä–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –Ω–µ –∏–º–µ–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `aiohttp` –∏ `orjson`).
-   **Strictly Typed**: –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–∑–∞–¥–∞—á–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, heartbeat) –æ–ø–∏—Å–∞–Ω—ã —á–µ—Ä–µ–∑ —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏.
-   **Blob Storage Native**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ñ—Ñ–ª–æ–∞–¥–∏–Ω–≥–∞ —Ç—è–∂–µ–ª—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (`rxon.blob`).

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ—Ç–æ–∫–æ–ª —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

1.  **Transport (Worker side)**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞—á –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
2.  **Listener (Orchestrator side)**: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–∏–µ–º–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –¥–≤–∏–∂–æ–∫ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏.

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (Worker side)

```python
from rxon import create_transport, WorkerRegistration

# 1. –°–æ–∑–¥–∞–µ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç HttpTransport –ø–æ —Å—Ö–µ–º–µ URL)
transport = create_transport(
    url="https://orchestrator.local",
    worker_id="gpu-01",
    token="secret-token"
)

await transport.connect()

# 2. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—Å—è
await transport.register(reg_payload)

# 3. –û–ø—Ä–∞—à–∏–≤–∞–µ–º –∑–∞–¥–∞—á–∏
task = await transport.poll_task(timeout=30)
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (Orchestrator side)

```python
from rxon import HttpListener, TaskPayload

async def my_handler(message_type, payload, context):
    if message_type == "poll":
        # –õ–æ–≥–∏–∫–∞ –≤—ã–¥–∞—á–∏ –∑–∞–¥–∞—á–∏
        return TaskPayload(...)
    return True

# Listener –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä
listener = HttpListener(app)
await listener.start(handler=my_handler)
```

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–∞

-   **`rxon.models`**: DTO –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π, –∑–∞–¥–∞—á, —Å–µ—Ä–¥—Ü–µ–±–∏–µ–Ω–∏–π –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
-   **`rxon.constants`**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫ (TIMEOUT, RESOURCE_EXHAUSTED –∏ –¥—Ä.) –∏ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã.
-   **`rxon.transports`**: –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (HTTP, WebSocket).
-   **`rxon.blob`**: –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–ª–æ–±-—Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏ (S3 URI parsing, hashing).
-   **`rxon.security`**: –ü–æ–º–æ—â–Ω–∏–∫–∏ –¥–ª—è mTLS –∏ —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–∞.

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install rxon
```

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (–ª–æ–∫–∞–ª—å–Ω–æ):
```bash
pip install -e packages/rxon
```

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. 

---
*Mantra: "The RXON is the medium for the Ghost."*
